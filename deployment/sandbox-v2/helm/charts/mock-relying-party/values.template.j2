component: mock-relying-party
part-of: mosip
activeProfileEnv: default 
springConfigLabel:  {{ config_repo.version }}
configServerUrl: {{ config_server.internal_url }}
exportLogs: enabled  # Let filebeat export the logs

ingress:
   namespace: default

artifactoryUrl: http://artifactory-service.lts:80/
iamAdapterUrl: http://artifactory-service.lts:80/artifactory/libs-release-local/io/mosip/kernel/kernel-auth-adapter.jar

probe:
  period: 10 # Seconds
  timeout: 5
  livenessPeriod: 30
  failureThreshold: 15
  startupPeriod: 10
  initialDelaySeconds: 60

isGlowroot: {{ is_glowroot }} 
imagePullPolicy: Always

dockerHub:
  private: {{ docker.hub.private }}  
  keyname: {{ docker.hub.keyname }}

services:
  relyingParty:
    serviceName: {{ versions.services.mock_relying_party.service.keys()[0] }}
    dockerImage: {{ versions.services.mock_relying_party.service.values()[0] }}
    ports:
      containerPort: 8888
      servicePort: 80
    esignetServiceUrl: https://{{ sandbox_domain_name }}
    esignetAudUrl: https://{{ sandbox_domain_name }}/v1/esignet/oauth/token
    hsmUrl: tcp://softhsm-mock-relying-party:80
    ingressPath: /
    healthUrl: /
    podconfig:
      {{ podconfig.mock_relying_party.service | to_nice_yaml(indent=6) | indent(6) }}

  relyingPartyUi:
    serviceName: {{ versions.services.mock_relying_party.ui.keys()[0] }}
    dockerImage: {{ versions.services.mock_relying_party.ui.values()[0] }}
    ports:
      containerPort: 5000
      servicePort: 80
    esignetUiBaseUrl: https://{{ sandbox_domain_name }}
    relyingPartyServerUrl: https://{{ sandbox_domain_name }}/healthservices/mock-relying-party-service
    redirectUri: https://{{ sandbox_domain_name }}/userprofile
    clientId: 88Vjt34c5Twz1oJ
    acrs: mosip:idp:acr:generated-code%20mosip:idp:acr:biometrics%20mosip:idp:acr:linked-wallet
    redirectUriRegistration: https://{{ sandbox_domain_name }}/registration
    signinButtonPluginUrl: https://{{ sandbox_domain_name }}/plugins/sign-in-button-plugin.js
    configName: mock-relying-party-ui # ConfigMap name
    mockRpPublicUri: healthservices	
    ingressPath: /healthservices
    healthUrl: /healthservices
    podconfig:
      {{ podconfig.mock_relying_party.ui | to_nice_yaml(indent=6) | indent(6) }}
