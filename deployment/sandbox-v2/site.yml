# Master playbook
#

- import_playbook: playbooks/console.yml  # Basic setup on console machine
- import_playbook: playbooks/nginx.yml # Setting nginx in advance so that Keycloak etc. can be tested 
- import_playbook: playbooks/nfs.yml 
- import_playbook: playbooks/mzcluster.yml
- import_playbook: playbooks/dmzcluster.yml
- import_playbook: playbooks/mzmonitoring.yml
- import_playbook: playbooks/dmzmonitoring.yml
- import_playbook: playbooks/postgres.yml
- import_playbook: playbooks/keycloak.yml
- import_playbook: playbooks/clamav.yaml
- import_playbook: playbooks/activemq.yaml
- import_playbook: playbooks/hdfs.yml
- import_playbook: playbooks/config-server.yml    
- import_playbook: playbooks/kernel.yml
- import_playbook: playbooks/prereg.yml
- import_playbook: playbooks/regproc.yml
- import_playbook: playbooks/ida.yml
- import_playbook: playbooks/idrepo.yml
- import_playbook: playbooks/admin.yml
- import_playbook: playbooks/pms.yml
- import_playbook: playbooks/resident.yml
- {import_playbook: playbooks/os-hardening-cluster.yml, vars: {cluster1: scancluster}}
- {import_playbook: playbooks/os-hardening-report.yml, vars: {console1: console1, cluster1: scancluster}}
- {import_playbook: playbooks/uninstall-scap.yml, vars: {cluster1: scancluster}}
#- import_playbook: playbooks/healthtest.yml
- {import_playbook: playbooks/docker-security-cluster.yml, vars: {cluster1: scancluster}}
- {import_playbook: playbooks/docker-security-report.yml, vars: {console1: console1, cluster1: scancluster}}