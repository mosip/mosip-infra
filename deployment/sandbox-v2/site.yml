# Master playbook
#

- {import_playbook: playbooks/mzcluster.yml}
- {import_playbook: playbooks/dmzcluster.yml}
- import_playbook: playbooks/console.yml  # Basic setup on console machine
- import_playbook: playbooks/nginx.yml # Setting nginx in advance so that Keycloak etc. can be tested 
- import_playbook: playbooks/postgres.yml
- import_playbook: playbooks/env.yml # MOSIP DB, Keycloak
- import_playbook: playbooks/hdfs.yml
- import_playbook: playbooks/config-server.yml    
- import_playbook: playbooks/kernel.yml
- import_playbook: playbooks/prereg.yml
- import_playbook: playbooks/regproc.yml
- import_playbook: playbooks/ida.yml
- import_playbook: playbooks/idrepo.yml
- import_playbook: playbooks/admin.yml
- import_playbook: playbooks/pms.yml
- import_playbook: playbooks/resident.yml
- {import_playbook: playbooks/os-hardening_console.yml, vars: {console: console1}}
- {import_playbook: playbooks/os-hardening_cluster.yml, vars: {cluster: scancluster}}
- {import_playbook: playbooks/uninstall-scap.yml, vars: {cluster: scancluster}}
- import_playbook: playbooks/healthtest.yml